{% extends 'base.html.twig' %}

{% form_theme form with ['form/enum-widget.html.twig', 'form_div_layout.html.twig'] %}

{% block title %}ارسال مقاله جدید | دورهمی{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('character-counter') }}

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const counter = new CharacterCounter();
            counter.addField('input[name="{{ form.title.vars.full_name }}"]', {{ form.title.vars.attr['data-lim'] }}, 'عنوان');
            counter.addField('textarea[name="{{ form.description.vars.full_name }}"]', {{ form.description.vars.attr['data-lim'] }}, 'توضیحات');
        });
    </script>
{% endblock %}

{% block body %}
    <section class="relative">
        <div class="absolute left-1/2 -translate-x-1/2 pointer-events-none -z-10" aria-hidden="true">
            <img src="{{ asset('images/hero-illustration.svg') }}" class="max-w-none" width="1905" height="622"
                 alt="Hero Illustration">
        </div>

        <div class="relative max-w-6xl mx-auto px-4 sm:px-6">
            <div class="pt-32 pb-12 md:pt-40 md:pb-20">
                <div class="max-w-2xl mx-auto text-center">
                    <h1 class="h2 font-badkhat bg-clip-text text-transparent bg-linear-to-tr to-indigo-400 via-sky-600 from-slate-700 dark:from-indigo-500 dark:via-sky-300 dark:to-slate-200 py-12">
                        اشتراک‌گذاری مقاله و مطلب</h1>
                </div>

                <div class="max-w-6xl mx-auto">
                    <div class="mb-8">
                        <h2 class="text-xl font-bold dark:text-slate-200 text-slate-600 mb-4">قوانین اشتراک‌گذاری</h2>
                        <p class="text-slate-500">خوش اومدید به «دورهمی»؛ پاتوقِ آن‌لاین گیک‌ها، دولوپرها و نویسنده‌های
                            فارسی‌زبان. این چند بند برای اینه که بدونیم چه‌جور پست و رفتاری حال همه رو خوب می‌کنه و از
                            چی‌ باید پرهیز کنیم. اگر جایی ابهام موند، یک ایمیل کوتاه به info@dorehami.dev بزنید، زود
                            جواب میدیم.</p>
                        <div class="flex flex-col gap-4 mt-4">
                            <p class="text-indigo-400 text-sm">چه چیزهایی رو منتشر کنیم؟</p>
                            <ul class="text-slate-500 text-sm list-disc space-y-2">
                                <li> هر مطلبی که شعلهٔ کنجکاوی فنی رو روشن کنه: تجربهٔ رفع یک باگ سمج، معرفی یک
                                    کتابخانهٔ متن‌باز، روایت شکست یا موفقیت استارتاپ شخصی، یا حتی خاطرات مصاحبهٔ کاری.
                                </li>
                                <li>آموزش و راهنمای عملی که از دل پروژه‌های واقعی در آمده و می‌تواند گره از کار بقیه باز
                                    کند.
                                </li>
                                <li>داستان‌های شخصی: مهاجرت شغلی، کار از راه دور، مسیر یادگیری، یا چالش‌های روزمرهٔ یک
                                    مهندس
                                    نرم‌افزار.
                                </li>
                            </ul>

                            <p class="text-indigo-400 text-sm">چه چیزهایی مناسب دورهمی نیست؟</p>
                            <ul class="text-slate-500 text-sm list-disc space-y-2">
                                <li>خبر روزِ سیاست، ورزش، سلبریتی‌ها و حوادث، مگه این‌که زاویهٔ فنیِ جالبی داشته باشد
                                    (مثلاً تحلیل زیرساختِ فناوری در یک رویداد ورزشی بزرگ).
                                </li>
                                <li>ویدیوهای وایرال صرفاً برای خنده یا عکس حیوانات بانمک؛ اینستاگرام و توییتر برای چنین
                                    محتواهایی جا دارند.
                                </li>
                                <li>پست‌های تمام‌قد تبلیغاتی یا «کلیک‌طعمه»‌ (Clickbait) که فقط برای جمع‌کردن بازدید
                                    ساخته شده‌اند.
                                </li>
                            </ul>

                            <p class="text-indigo-400 text-sm">آداب پست‌گذاری در دورهمی</p>
                            <ul class="text-slate-500 text-sm list-disc space-y-2">
                                <li>عنوان شسته‌رفته و دقیق بنویس، بدون استفاده بیش از حد از اموجی و علائم دیگه.</li>
                                <li>همیشه لینک منبع اصلی رو بگذار، اگر موضوع رو تو وبلاگی دیدی که از جایی دیگه نقل کرده،
                                    همون منبع نخست راارائه بده.
                                </li>
                                <li>به شرطی دربارهٔ پروژه یا محصول خودت پست کن، که ارزش آموزشی برای جمع داشته باشه و کل
                                    فعالیتت تبلیغ نشه.
                                </li>
                            </ul>
                        </div>
                    </div>

                    {{ form_start(form) }}
                    {{ form_errors(form) }}

                    <div class="mb-4">
                        <h2 class="text-xl font-bold dark:text-slate-200 text-slate-600 mb-4">نوع پست رو انتخاب کن</h2>
                        <p class="text-slate-400 mb-6">هر نوع پست برای منظور خاصی طراحی و نوشته میشه. لطفا متناسب با
                            محتوای خودتون یکی رو انتخاب کنید.</p>
                        {{ form_widget(form.type) }}
                    </div>

                    <div class="my-8">
                        <h2 class="text-xl font-bold dark:text-slate-200 text-slate-600 mb-4">اطلاعات کلی پست رو وارد
                            کن</h2>
                        <p class="text-slate-400 mb-6">از اینجا به بعد فقط اطلاعات عمومی پست رو شامل میشه.</p>
                    </div>

                    <div class="space-y-8">
                        <div class="flex flex-col md:flex-row gap-4 w-full">
                            <div class="flex-1">
                                {{ form_label(form.title, null, {'label_attr': {'class': 'sr-only'}}) }}
                                {{ form_widget(form.title, {'attr': {'class': 'form-input text-sm w-full'}}) }}
                                <p class="text-slate-500 text-sm mt-1">
                                    عنوان میتونه هر چیزی برای خواننده‌ها باشه.
                                </p>
                                {{ form_errors(form.title) }}
                            </div>
                            <div class="flex-1">
                                {{ form_label(form.originalAuthorName, null, {'label_attr': {'class': 'sr-only'}}) }}
                                {{ form_widget(form.originalAuthorName, {'attr': {'class': 'form-input text-sm w-full'}}) }}
                                <p class="text-slate-500 text-sm mt-1">
                                    اسم نویسنده‌ی اصلی این مطلب چیه؟ میتونه اسم شخص یا شرکت باشه.
                                </p>
                                {{ form_errors(form.originalAuthorName) }}
                            </div>
                        </div>
                        <div class="flex flex-col md:flex-row gap-4 w-full">
                            <div class="flex-3">
                                {{ form_label(form.url, null, {'label_attr': {'class': 'sr-only'}}) }}
                                {{ form_widget(form.url, {'attr': {'class': 'form-input text-sm w-full'}}) }}
                                <p class="text-slate-500 text-sm mt-1">
                                    اگر این لینک قبلاً ارسال شده باشه، به صفحه اون مقاله هدایت خواهی شد.
                                </p>
                                {{ form_errors(form.url) }}
                            </div>
                        </div>
                        <div>
                            {{ form_label(form.description, null, {'label_attr': {'class': 'sr-only'}}) }}
                            {{ form_widget(form.description, {'attr': {'class': 'form-input text-sm w-full'}}) }}
                            <p class="text-slate-500 text-sm mt-1">
                                یه توضیح کوتاه برای خواننده‌ها، در صورتی که نخوان لینک رو باز کنن.
                            </p>
                            {{ form_errors(form.description) }}
                        </div>
                        <div>
                            {{ form_label(form.domainIsPersonal, null, {'label_attr': {'class': 'sr-only'}}) }}
                            <div class="flex gap-2 items-center">
                                {{ form_widget(form.domainIsPersonal, {'attr': {'class': 'form-checkbox text-sm'}}) }}
                                <p class="text-slate-500 text-sm">
                                    آیا دامنه، به شخص تعلق داره یا شخصیه؟ مثلا دامنه‌ی ویرگول شرکتیه و شخصی نیست
                                </p>
                            </div>
                            {{ form_errors(form.domainIsPersonal) }}
                        </div>
                    </div>
                    <div class="mt-8 text-center mx-auto">
                        <button type="submit"
                                class="btn-sm text-white bg-indigo-500 hover:bg-indigo-600 w-full max-w-sm">ارسال مقاله
                        </button>
                    </div>

                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </section>
{% endblock %}
